{% extends "home/base.html" %}
{% block content %}
<div class="container mt-4">
    <h2>Checkout</h2>
    <hr>

    <h4>Select Address</h4>
    <form method="POST">
        {% csrf_token %}
        {% for address in addresses %}
        <div class="card mb-3 p-3 d-flex justify-content-between align-items-start">
            <div>
                <input type="radio" name="selected_address" value="{{ address.id }}" {% if address.is_default %}checked{% endif %}>
                <strong>{{ address.full_name }}</strong><br>
                {{ address.address_line_1 }} {{ address.address_line_2 }}<br>
                {{ address.city }}, {{ address.state }} - {{ address.pincode }}<br>
                <small>{{ address.phone }}</small>
            </div>
            <div class="btn-group-vertical ms-3">
                <a href="{% url 'orders:edit_address' address.id %}" class="btn btn-sm btn-outline-primary mb-1">Edit</a>
                <a href="{% url 'orders:delete_address' address.id %}" class="btn btn-sm btn-outline-danger">Delete</a>
            </div>
        </div>
        {% empty %}
        <p>No addresses saved yet.</p>
        {% endfor %}
        <div class="text-end mb-4">
            <button type="submit" class="btn btn-primary">Continue</button>
        </div>
    </form>

    <a href="{% url 'orders:add_address' %}" class="btn btn-outline-success mb-4">+ Add New Address</a>
</div>
{% endblock %}
